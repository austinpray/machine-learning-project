---
title: "Ruby on Rails Dataset"
author: "Austin Pray and Joe Bao"
date: "February 19, 2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Ruby on Rails Commit History Dataset

This dataset is a full set of the git commits that make up the Ruby on Rails web framework. Ruby on Rails is an interesting open source project to examine for a couple reasons:

1. It is one of the oldest and most popular repositories on GitHub
2. It is widely contributed to by the open source community at large. People with diverse backgrounds work on it as it is a general purpose web framework.
3. Although it benefits from corporate sponsorship it is not a "corporate run" project. I make this distinction because in my mind a project that is worked on 9-5 by people working full time is not necessarily super interesting to look at.

In short, this project has grown and been constructed organically. **We want to examine the historical data to figure out when open source contributors tend to be most active**.

**We will perform a regresson to model commit activity by time and predict whether a given day will be a productive day for the project**.

## Data Origin

I generated it with the following commands:

```
git clone git@github.com:rails/rails.git
git log --date=iso --pretty=format:"%h%x09%an%x09%ad%x09%s" > rails-commits.iso.tsv.txt
```

## Columns

```{r}
library(lubridate)
library(parsedate)

Commits = read.table(
  "./data/rails-commits.iso.tsv.txt",
  sep="\t",
  header=FALSE,
  fill=TRUE,
  col.names=c("SHA", "Author", "Timestamp", "Commit_Message"),
  colClasses = c("Timestamp"="character"))

Commits$Timestamp <- sapply(Commits$Timestamp, parse_date)
```

Let's look at the data

```{r}
names(Commits)
head(Commits)
tail(Commits)
summary(subset(Commits, select=c(Author, Timestamp)))
```

Let's see who the biggest committers are.

```{r}
committerTable = sort(table(Commits$Author),decreasing=T)
plot(head(sort(committerTable, decreasing=T), 10))
```

Let's see the history of people committing:

```{r}
library(ggplot2)
base <- qplot(as.POSIXct(Commits$Timestamp, origin = "1970-01-01", tz = "GMT"))
base + scale_x_datetime(date_labels = "%Y %m %d")
```